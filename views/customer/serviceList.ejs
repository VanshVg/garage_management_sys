<head>
        <style>
                .services input[type=checkbox] {
                        height: 0;
                        width: 0;
                        position: absolute;
                        opacity: 0;
                }

                .services input[type=checkbox]:checked~.service-info {
                        background-color: rgb(186 230 253);
                }
        </style>
</head>
<h3 class="my-2 text-white font-bold border-b-2 max-w-fit ml-4 mt-4">Services We Provide</h3>
<form id="serviceList" name="serviceList">
        <div class="service-wrapper mt-6 overflow-y-auto h-full px-4" id="service-wrapper">

        </div>
</form>

<input type="button" onclick="selectedServices()"
        class="w-[92%] mx-3 inline-block rounded-full bg-light px-6 pb-2 pt-2.5 text-xs font-medium uppercase leading-normal text-neutral-600 shadow-light-3 transition duration-150 ease-in-out hover:bg-neutral-200 hover:shadow-light-2 focus:bg-neutral-200 focus:shadow-light-2 focus:outline-none focus:ring-0 active:bg-neutral-200 active:shadow-light-2 motion-reduce:transition-none dark:shadow-black/30 dark:hover:shadow-dark-strong dark:focus:shadow-dark-strong dark:active:shadow-dark-strong"
        value="Proceed">

<script>

        const getServiceList = async () => {
                let services = await callAPI("/customer/servicesList");
                let serviceList = '';

                services.forEach(ele => {
                        serviceList += `<div class="bg-light max-w-fit h-[24%] my-3 rounded-lg flex services hover:bg-sky-200">
                <input type="checkbox" name="services[]" id="${ele.id}" value="${ele.id}">
                <div class="garage-icon border-2 w-3/4">
                        <label for="${ele.id}">
                                <img src="/assets/service.png"
                                        onerror="this.src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSeUyb754vebKqfbxScXd11wIOQGyxRlNNQBv31JG4wC9ytLmJgMP3i__68EPQpIN3vrPk&usqp=CAU'"
                                        class="h-full w-full bg-cover" alt="garage" class="object-cover">
                        </label>
                </div>
                <div class="garage-info w-3/4 p-2 service-info">
                        <label for="${ele.id}">
                                <h3 class="font-medium text-xl text-left" id="garageName">${ele.name}</h3>
                                <p class="mt-2 text-xs text-justify">${ele.description}</p>
                                <div class="flex pt-2 justify-end items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                                                viewBox="0 0 24 24">
                                                <path fill="currentColor"
                                                        d="M17 6V4H6v2h3.5c1.302 0 2.401.838 2.815 2H6v2h6.315A2.994 2.994 0 0 1 9.5 12H6v2.414L11.586 20h2.828l-6-6H9.5a5.007 5.007 0 0 0 4.898-4H17V8h-2.602a4.933 4.933 0 0 0-.924-2z" />
                                        </svg>
                                        <p>${ele.price}</p>
                                </div>
                        </label>
                </div>
                </div>`
                });

                document.getElementById('service-wrapper').innerHTML = serviceList;
        }

        getServiceList();

        const selectedServices = async () => {
                let service = document.getElementById('serviceList');
                let formServiceData = new FormData(service);

                if (formServiceData.getAll("services[]").length === 0) {
                        console.log("Plz Select Any One Services");
                        return
                }

                localStorage.setItem("id", formServiceData.getAll("services[]"));
                setActive('vehicle');
        }

        const serviceType = async () => {
                let service = document.getElementById('serviceList');
                let serviceData = new FormData(service);

                if (serviceData) {
                        setActive('appointment');
                }

        }

</script>